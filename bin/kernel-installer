#!/bin/bash
# Kernel Installer GUI - Execution Wrapper
# Copyright (C) 2025 Sergi Perich & Alexia Michelle
#
# This wrapper allows running the application from anywhere

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PACKAGE_DIR="$SCRIPT_DIR/kernel_installer_gui"

# Check if running from installed location or development
if [ -d "$PACKAGE_DIR" ]; then
    # Development mode - run from source
    cd "$SCRIPT_DIR"
    exec python3 -m kernel_installer_gui "$@"
elif [ -d "/usr/share/kernel-installer" ]; then
    # Installed system-wide
    export PYTHONPATH="/usr/share/kernel-installer:$PYTHONPATH"
    exec python3 -m kernel_installer_gui "$@"
elif [ -d "$HOME/.local/share/kernel-installer" ]; then
    # Installed for user
    cd "$HOME/.local/share/kernel-installer"
    exec python3 -m kernel_installer_gui "$@"
else
    echo "Error: Kernel Installer not found."
    echo "Please run from the source directory or install the application."
    exit 1
fi
